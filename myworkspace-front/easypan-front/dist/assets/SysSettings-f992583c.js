import{_ as v,a as y,u as b,b as V,r as p,e as u,f as x,h as E,j as s,w as a,k as C,n as c}from"./index-e609a1ae.js";const U={class:"sys-setting-panel"},w={__name:"SysSettings",setup(I){const{proxy:n}=y();b(),V();const m={getSysSettings:"/admin/getSysSettings",saveSettings:"/admin/saveSysSettings"},t=p({}),d=p(),_={registerEmailTitle:[{required:!0,message:"请输入注册邮件验证码邮件标题"}],registerEmailContent:[{required:!0,message:"请输入注册邮件验证码邮件内容"}],userInitUseSpace:[{required:!0,message:"请输入初始化空间大小"},{validator:n.Verify.number,message:"空间大小只能是数字"}]};(async()=>{let l=await n.Request({url:m.getSysSettings});l&&(t.value=l.data)})();const f=async()=>{d.value.validate(async l=>{if(!l)return;let e={};Object.assign(e,t.value),await n.Request({url:m.saveSettings,params:e})&&n.Message.success("保存成功")})};return(l,e)=>{const o=u("el-input"),i=u("el-form-item"),g=u("el-button"),S=u("el-form");return x(),E("div",U,[s(S,{model:t.value,rules:_,ref_key:"formDataRef",ref:d,"label-width":"150px",onSubmit:e[3]||(e[3]=C(()=>{},["prevent"]))},{default:a(()=>[s(i,{label:"注册邮箱标题",prop:"registerEmailTitle"},{default:a(()=>[s(o,{clearable:"",placeholder:"请输入注册邮件验证码邮件标题",modelValue:t.value.registerEmailTitle,"onUpdate:modelValue":e[0]||(e[0]=r=>t.value.registerEmailTitle=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),s(i,{label:"注册邮箱内容",prop:"registerEmailContent"},{default:a(()=>[s(o,{clearable:"",placeholder:"请输入注册邮件验证码邮件内容%s占位符为验证码内容",modelValue:t.value.registerEmailContent,"onUpdate:modelValue":e[1]||(e[1]=r=>t.value.registerEmailContent=r),modelModifiers:{trim:!0}},null,8,["modelValue"])]),_:1}),s(i,{label:"初始空间大小",prop:"userInitUseSpace"},{default:a(()=>[s(o,{clearable:"",placeholder:"初始化空间大小",modelValue:t.value.userInitUseSpace,"onUpdate:modelValue":e[2]||(e[2]=r=>t.value.userInitUseSpace=r),modelModifiers:{trim:!0}},{suffix:a(()=>[c("MB")]),_:1},8,["modelValue"])]),_:1}),s(i,{label:"",prop:""},{default:a(()=>[s(g,{class:"save-btn",type:"primary",onClick:f},{default:a(()=>[c("保存")]),_:1})]),_:1})]),_:1},8,["model"])])}}},k=v(w,[["__scopeId","data-v-c0548f5b"]]);export{k as default};
